<!--pages/profile/userInfo/index.wxml-->
<view class="userinfo-container">
  <view class="userinfo-header">
    <view class="avatar-container">
      <image class="avatar" src="{{userInfo.avatar || '/assets/images/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="avatar-edit" bindtap="chooseAvatar">
        <text class="edit-text">更换</text>
      </view>
    </view>
  </view>
  
  <view class="section-title">基本信息</view>
  <view class="userinfo-form">
    <view class="form-item">
      <text class="form-label required">姓名</text>
      <input class="form-input" value="{{userInfo.driverName}}" placeholder="请输入姓名" bindinput="inputDriverName" />
    </view>
    
    <view class="form-item">
      <text class="form-label required">手机号</text>
      <input class="form-input" value="{{userInfo.phone}}" placeholder="请输入手机号" bindinput="inputPhone" type="number" maxlength="11" />
    </view>
    
    <view class="form-item">
      <text class="form-label required">身份证号</text>
      <input class="form-input" value="{{userInfo.idCard}}" placeholder="请输入身份证号" bindinput="inputIdCard" maxlength="18" />
    </view>
  </view>
  
  <view class="section-title">驾驶证信息</view>
  <view class="userinfo-form">
    <view class="form-item">
      <text class="form-label required">驾驶证号</text>
      <input class="form-input" value="{{userInfo.driverLicense}}" placeholder="请输入驾驶证号" bindinput="inputDriverLicense" maxlength="18" />
    </view>
    
    <view class="upload-section">
      <view class="upload-area">
        <view class="upload-item" bindtap="uploadDriverLicenseFront">
          <image class="upload-image" src="{{userInfo.driverLicenseFront || '/assets/images/upload.png'}}" mode="aspectFill"></image>
          <text class="upload-text">驾驶证正本</text>
        </view>
        <view class="upload-item" bindtap="uploadDriverLicenseBack">
          <image class="upload-image" src="{{userInfo.driverLicenseBack || '/assets/images/upload.png'}}" mode="aspectFill"></image>
          <text class="upload-text">驾驶证副本</text>
        </view>
      </view>
    </view>
  </view>

  <view class="section-title">车辆信息</view>
  <view class="userinfo-form">
    <view class="form-item">
      <text class="form-label required">车牌号</text>
      <input class="form-input" value="{{userInfo.plateNumber}}" placeholder="请输入车牌号" bindinput="inputPlateNumber" />
    </view>
    
    <view class="form-item">
      <text class="form-label required">车辆类型</text>
      <picker class="form-picker" bindchange="vehicleTypeChange" value="{{vehicleTypeIndex}}" range="{{vehicleTypes}}">
        <view class="picker-text">{{vehicleTypes[vehicleTypeIndex] || '请选择车辆类型'}}</view>
      </picker>
    </view>
    
    <view class="form-item">
      <text class="form-label required">最大载重</text>
      <input class="form-input" value="{{userInfo.maxLoad}}" placeholder="请输入最大载重(千克)" bindinput="inputMaxLoad" type="number" />
    </view>
    
    <view class="form-item">
      <text class="form-label">车辆品牌</text>
      <input class="form-input" value="{{userInfo.vehicleBrand}}" placeholder="请输入车辆品牌" bindinput="inputVehicleBrand" />
    </view>
    
    <view class="form-item">
      <text class="form-label">车辆型号</text>
      <input class="form-input" value="{{userInfo.vehicleModel}}" placeholder="请输入车辆型号" bindinput="inputVehicleModel" />
    </view>
    
    <view class="form-item">
      <text class="form-label">行驶证号</text>
      <input class="form-input" value="{{userInfo.vehicleLicenseNumber}}" placeholder="请输入行驶证号" bindinput="inputVehicleLicenseNumber" />
    </view>
  </view>
  
  <view class="upload-section">
    <text class="section-subtitle">行驶证照片</text>
    <view class="upload-area">
      <view class="upload-item" bindtap="uploadVehicleLicenseFront">
        <image class="upload-image" src="{{userInfo.vehicleLicenseFront || '/assets/images/upload.png'}}" mode="aspectFill"></image>
        <text class="upload-text">行驶证正本</text>
      </view>
      <view class="upload-item" bindtap="uploadVehicleLicenseBack">
        <image class="upload-image" src="{{userInfo.vehicleLicenseBack || '/assets/images/upload.png'}}" mode="aspectFill"></image>
        <text class="upload-text">行驶证副本</text>
      </view>
    </view>
  </view>
  
  <view class="submit-btn" bindtap="saveUserInfo">保存信息</view>
</view>